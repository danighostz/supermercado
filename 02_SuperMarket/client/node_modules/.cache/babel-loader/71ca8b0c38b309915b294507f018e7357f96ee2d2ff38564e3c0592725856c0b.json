{"ast":null,"code":"import _objectSpread from\"C:/Users/victo/Downloads/SuperMarket_Programacion_Web-main/02_SuperMarket/client/node_modules/@babel/runtime/helpers/esm/objectSpread2.js\";import _slicedToArray from\"C:/Users/victo/Downloads/SuperMarket_Programacion_Web-main/02_SuperMarket/client/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import React,{useState}from'react';import Button from'react-bootstrap/Button';import Modal from'react-bootstrap/Modal';import{useNavigate}from'react-router-dom';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";import{Fragment as _Fragment}from\"react/jsx-runtime\";export default function Registro(){var navigate=useNavigate();var _useState=useState({usuario:\"\",clave:\"\",claveCheck:\"\",editor:\"\"}),_useState2=_slicedToArray(_useState,2),info=_useState2[0],setInfo=_useState2[1];function alternatePass(id){var pass=document.getElementById(id);var icon=document.getElementById(\"img-\"+id);var eye=\"https://cdn-icons-png.flaticon.com/512/159/159078.png\";var crossed=\"https://cdn-icons-png.flaticon.com/512/2710/2710718.png\";pass.type=pass.type===\"text\"?\"password\":\"text\";icon.src=icon.src===eye?crossed:eye;}function registrar(){if(info.claveCheck!==\"\"&&info.clave===info.claveCheck){fetch(\"/usuarios\",{method:\"POST\",headers:{\"Content-Type\":\"application/json\"},body:JSON.stringify(info)});alert(\"Registro exitoso.\");navigate(\"/principal\");}}var validarCorreo=function validarCorreo(evento){var correoInput=evento.target.value;var patternCorreo=/^[a-zA-Z0-9.!#$%&'*+/=?^_`{|}~-]+@[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)*$/;document.getElementById(\"usuario\").style.backgroundColor=!patternCorreo.test(correoInput)?\"#FFC2C2\":\"white\";};var validarClave=function validarClave(evento){var claveInput=evento.target.value;var patternClave=/^(?=.*[a-z])(?=.*[A-Z])(?=.*\\d)[a-zA-Z\\d]{8,}$/;document.getElementById(evento.target.id).style.backgroundColor=!patternClave.test(claveInput)?\"#FFC2C2\":\"white\";};var validarIgualdad=function validarIgualdad(){document.getElementById(\"clave\").style.backgroundColor=info.clave!==info.claveCheck?\"#FFC2C2\":\"white\";document.getElementById(\"claveCheck\").style.backgroundColor=info.clave!==info.claveCheck?\"#FFC2C2\":\"white\";};return/*#__PURE__*/_jsx(_Fragment,{children:/*#__PURE__*/_jsxs(Modal,{show:true,children:[/*#__PURE__*/_jsx(Modal.Header,{closeButton:true,children:/*#__PURE__*/_jsx(Modal.Title,{children:/*#__PURE__*/_jsx(\"h1\",{children:\"Registrate\"})})}),/*#__PURE__*/_jsxs(Modal.Body,{children:[/*#__PURE__*/_jsxs(\"section\",{class:\"section-registro\",children:[/*#__PURE__*/_jsx(\"img\",{class:\"registro-imagen\",src:\"https://icons.veryicon.com/png/o/miscellaneous/taiwu-network-icon-library/not-logged-in-1.png\"}),/*#__PURE__*/_jsx(\"label\",{for:\"usuario\",children:\"Correo Electronico: \"}),/*#__PURE__*/_jsx(\"input\",{id:\"usuario\",class:\"registro-entrada\",type:\"text\",value:info.usuario,onChange:function onChange(e){setInfo(_objectSpread(_objectSpread({},info),{},{usuario:e.target.value}));},onBlur:validarCorreo})]}),/*#__PURE__*/_jsxs(\"section\",{class:\"section-registro\",children:[/*#__PURE__*/_jsx(\"img\",{class:\"registro-imagen\",src:\"https://cdn-icons-png.flaticon.com/512/39/39734.png\"}),/*#__PURE__*/_jsx(\"label\",{for:\"clave\",children:\"Contrase\\xF1a: \"}),/*#__PURE__*/_jsx(\"input\",{id:\"clave\",type:\"password\",class:\"registro-entrada registro-clave\",value:info.clave,onChange:function onChange(e){setInfo(_objectSpread(_objectSpread({},info),{},{clave:e.target.value}));},onBlur:validarClave}),/*#__PURE__*/_jsx(\"button\",{type:\"button\",class:\"registro-ojo\",onClick:function onClick(){return alternatePass('clave');},children:/*#__PURE__*/_jsx(\"img\",{class:\"registro-imagen\",id:\"img-clave\",src:\"https://cdn-icons-png.flaticon.com/512/2710/2710718.png\"})})]}),/*#__PURE__*/_jsxs(\"section\",{class:\"section-registro\",children:[/*#__PURE__*/_jsx(\"img\",{class:\"registro-imagen\",src:\"https://cdn-icons-png.flaticon.com/512/181/181534.png\"}),/*#__PURE__*/_jsx(\"label\",{for:\"claveCheck\",children:\"Verificar Contrase\\xF1a: \"}),/*#__PURE__*/_jsx(\"input\",{id:\"claveCheck\",class:\"registro-entrada registro-clave\",type:\"password\",value:info.claveCheck,onChange:function onChange(e){setInfo(_objectSpread(_objectSpread({},info),{},{claveCheck:e.target.value}));},onBlur:function onBlur(e){validarClave(e);validarIgualdad();}}),/*#__PURE__*/_jsx(\"button\",{type:\"button\",class:\"registro-ojo\",onClick:function onClick(){return alternatePass('claveCheck');},children:/*#__PURE__*/_jsx(\"img\",{class:\"registro-imagen\",id:\"img-claveCheck\",src:\"https://cdn-icons-png.flaticon.com/512/2710/2710718.png\"})})]}),/*#__PURE__*/_jsxs(\"section\",{class:\"section-registro\",children:[/*#__PURE__*/_jsx(\"img\",{class:\"registro-imagen\",src:\"https://uxwing.com/wp-content/themes/uxwing/download/editing-user-action/admin-icon.png\"}),/*#__PURE__*/_jsx(\"label\",{for:\"admin\",children:\"Obtener privilegios de Admistrador\"}),/*#__PURE__*/_jsx(\"input\",{id:\"admin\",type:\"checkbox\",class:\"registro-caja\",checked:info.editor,onChange:function onChange(e){setInfo(_objectSpread(_objectSpread({},info),{},{editor:e.target.checked}));}})]})]}),/*#__PURE__*/_jsxs(Modal.Footer,{children:[info.claveCheck!==\"\"&&info.clave!==info.claveCheck&&/*#__PURE__*/_jsx(\"span\",{style:{margin:\"auto\",color:\"red\"},children:\"* Las claves ingresadas no coinciden *\"}),/*#__PURE__*/_jsx(Button,{className:\"login-iniciar\",variant:\"dark\",onClick:registrar,children:\"Registrarme\"})]})]})});};","map":{"version":3,"names":["React","useState","Button","Modal","useNavigate","Registro","navigate","usuario","clave","claveCheck","editor","info","setInfo","alternatePass","id","pass","document","getElementById","icon","eye","crossed","type","src","registrar","fetch","method","headers","body","JSON","stringify","alert","validarCorreo","evento","correoInput","target","value","patternCorreo","style","backgroundColor","test","validarClave","claveInput","patternClave","validarIgualdad","e","checked","margin","color"],"sources":["C:/Users/victo/Downloads/SuperMarket_Programacion_Web-main/02_SuperMarket/client/src/aplicacion/Registro.jsx"],"sourcesContent":["import React, { useState } from 'react';\r\nimport Button from 'react-bootstrap/Button';\r\nimport Modal from 'react-bootstrap/Modal';\r\nimport { useNavigate } from 'react-router-dom';\r\n\r\nexport default function Registro()\r\n{\r\n    const navigate = useNavigate()\r\n    const [info, setInfo] = useState({usuario:\"\", clave:\"\", claveCheck:\"\", editor:\"\"});\r\n\r\n    function alternatePass(id)\r\n    {\r\n        const pass = document.getElementById(id);\r\n        const icon = document.getElementById(\"img-\"+id);\r\n        const eye = \"https://cdn-icons-png.flaticon.com/512/159/159078.png\";\r\n        const crossed = \"https://cdn-icons-png.flaticon.com/512/2710/2710718.png\";\r\n\r\n        pass.type = (pass.type === \"text\") ? \"password\" : \"text\";\r\n        icon.src = (icon.src === eye)?crossed:eye;\r\n    }\r\n\r\n    function registrar()\r\n    {\r\n        if(info.claveCheck !== \"\" && info.clave === info.claveCheck)\r\n        {\r\n            fetch(\"/usuarios\", {\r\n                method:\"POST\", headers:{\"Content-Type\":\"application/json\"},\r\n                body:JSON.stringify(info)\r\n            });\r\n            alert(\"Registro exitoso.\");\r\n            navigate(\"/principal\");\r\n        }\r\n    }\r\n\r\n    const validarCorreo = (evento) => {\r\n        let correoInput = evento.target.value;\r\n        let patternCorreo = /^[a-zA-Z0-9.!#$%&'*+/=?^_`{|}~-]+@[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)*$/;\r\n        document.getElementById(\"usuario\").style.backgroundColor = (!patternCorreo.test(correoInput))?\"#FFC2C2\":\"white\";\r\n    };\r\n\r\n    const validarClave = (evento) => {\r\n        let claveInput = evento.target.value;\r\n        let patternClave = /^(?=.*[a-z])(?=.*[A-Z])(?=.*\\d)[a-zA-Z\\d]{8,}$/;\r\n        document.getElementById(evento.target.id).style.backgroundColor = (!patternClave.test(claveInput))?\"#FFC2C2\":\"white\";\r\n    };\r\n\r\n    const validarIgualdad = () => {\r\n        document.getElementById(\"clave\").style.backgroundColor = (info.clave !== info.claveCheck)?\"#FFC2C2\":\"white\";\r\n        document.getElementById(\"claveCheck\").style.backgroundColor = (info.clave !== info.claveCheck)?\"#FFC2C2\":\"white\";\r\n    };\r\n\r\n    return (\r\n        <>\r\n            <Modal show={true}>\r\n                <Modal.Header closeButton>\r\n                <Modal.Title>\r\n                    <h1>Registrate</h1>\r\n                </Modal.Title>\r\n                </Modal.Header>\r\n                <Modal.Body>\r\n                    <section class=\"section-registro\">\r\n                        <img class=\"registro-imagen\" src=\"https://icons.veryicon.com/png/o/miscellaneous/taiwu-network-icon-library/not-logged-in-1.png\" />\r\n                        <label for=\"usuario\">Correo Electronico: </label>\r\n                        <input id=\"usuario\" class=\"registro-entrada\" type=\"text\" value={info.usuario} onChange={e => {\r\n                            setInfo({...info, usuario: e.target.value})\r\n                        }} onBlur={validarCorreo}/>\r\n                    </section>\r\n                    <section class=\"section-registro\">\r\n                        <img class=\"registro-imagen\" src=\"https://cdn-icons-png.flaticon.com/512/39/39734.png\"/>\r\n                        <label for=\"clave\">Contraseña: </label>\r\n                        <input id=\"clave\" type=\"password\" class=\"registro-entrada registro-clave\" value={info.clave} onChange={e => {\r\n                            setInfo({...info, clave: e.target.value})\r\n                        }} onBlur={validarClave}/>\r\n                        <button type=\"button\" class=\"registro-ojo\" onClick={() => alternatePass('clave')}>\r\n                            <img class=\"registro-imagen\" id=\"img-clave\" src=\"https://cdn-icons-png.flaticon.com/512/2710/2710718.png\" />\r\n                        </button>\r\n                    </section>\r\n                    <section class=\"section-registro\">\r\n                        <img class=\"registro-imagen\" src=\"https://cdn-icons-png.flaticon.com/512/181/181534.png\" />\r\n                        <label for=\"claveCheck\">Verificar Contraseña: </label>\r\n                        <input id=\"claveCheck\" class=\"registro-entrada registro-clave\" type=\"password\" value={info.claveCheck} onChange={e => {\r\n                            setInfo({...info, claveCheck: e.target.value})\r\n                        }} onBlur={(e) => {validarClave(e); validarIgualdad()}}/>\r\n                        <button type=\"button\" class=\"registro-ojo\" onClick={() => alternatePass('claveCheck')}>\r\n                            <img class=\"registro-imagen\" id=\"img-claveCheck\" src=\"https://cdn-icons-png.flaticon.com/512/2710/2710718.png\"/>\r\n                        </button>\r\n                    </section>\r\n                    <section class=\"section-registro\">\r\n                        <img class=\"registro-imagen\" src=\"https://uxwing.com/wp-content/themes/uxwing/download/editing-user-action/admin-icon.png\"/>\r\n                        <label for=\"admin\">Obtener privilegios de Admistrador</label>\r\n                        <input id=\"admin\" type=\"checkbox\" class=\"registro-caja\" checked={info.editor} onChange={e => {\r\n                            setInfo({...info, editor: e.target.checked})\r\n                        }}/>\r\n                    </section>\r\n                </Modal.Body>\r\n                <Modal.Footer>\r\n                    {\r\n                        (info.claveCheck !== \"\" && info.clave !== info.claveCheck) &&\r\n                        <span style={{margin:\"auto\", color:\"red\"}}>* Las claves ingresadas no coinciden *</span>\r\n                    }\r\n                    <Button className=\"login-iniciar\" variant=\"dark\" onClick={registrar}>\r\n                        Registrarme\r\n                    </Button>\r\n                </Modal.Footer>\r\n            </Modal>\r\n        </>\r\n    );\r\n};"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}